<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>NFL Predictor Analyst</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #020617; color: white; -webkit-tap-highlight-color: transparent; }
        .nfl-card { background: linear-gradient(145deg, #1e293b, #0f172a); border: 1px solid #334155; }
        .tab-active { border-bottom: 3px solid #3b82f6; color: #3b82f6; }
        .stat-bar { height: 6px; border-radius: 3px; transition: width 0.8s ease-out; }
        .joke-box { background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; }
    </style>
</head>
<body class="font-sans antialiased pb-24">

    <div class="max-w-md mx-auto p-4">
        <div id="joke-box" class="joke-box p-3 rounded-r-xl mb-4">
            <p id="joke-text" class="text-[11px] italic text-gray-300">"Loading fresh American humor..."</p>
        </div>

        <nav class="flex justify-around border-b border-slate-800 mb-6 sticky top-0 bg-[#020617] z-20 pt-2">
            <button onclick="showTab('predict')" id="tab-predict" class="pb-3 text-[10px] font-black tab-active uppercase tracking-widest text-blue-500">Predict</button>
            <button onclick="showTab('bets')" id="tab-bets" class="pb-3 text-[10px] font-black text-gray-500 uppercase tracking-widest">Paris</button>
            <button onclick="showTab('schedule')" id="tab-schedule" class="pb-3 text-[10px] font-black text-gray-500 uppercase tracking-widest">Infos</button>
        </nav>

        <div id="section-predict">
            <div class="nfl-card p-6 rounded-[2.5rem] shadow-2xl mb-6">
                <div class="flex items-center justify-between mb-8 gap-2">
                    <div class="w-5/12 text-center">
                        <img id="logoA" src="https://a.espncdn.com/i/teamlogos/nfl/500/ne.png" class="w-16 h-16 mx-auto mb-3 drop-shadow-lg">
                        <select id="teamA" onchange="updateUI()" class="bg-slate-800 text-white rounded-xl p-2 text-[10px] w-full text-center border-none font-bold uppercase"></select>
                    </div>
                    <div class="text-xl font-black text-red-600 italic">VS</div>
                    <div class="w-5/12 text-center">
                        <img id="logoB" src="https://a.espncdn.com/i/teamlogos/nfl/500/sea.png" class="w-16 h-16 mx-auto mb-3 drop-shadow-lg">
                        <select id="teamB" onchange="updateUI()" class="bg-slate-800 text-white rounded-xl p-2 text-[10px] w-full text-center border-none font-bold uppercase"></select>
                    </div>
                </div>

                <div class="space-y-4 mb-8 bg-black/30 p-4 rounded-2xl">
                    <div>
                        <div class="flex justify-between text-[9px] font-bold uppercase mb-1">
                            <span id="nameStatA1">Team A</span> <span>OFFENSE</span> <span id="nameStatB1">Team B</span>
                        </div>
                        <div class="flex w-full gap-1">
                            <div class="flex-1 bg-gray-800 rounded-full overflow-hidden flex justify-end">
                                <div id="barOffA" class="stat-bar bg-blue-500" style="width: 50%"></div>
                            </div>
                            <div class="flex-1 bg-gray-800 rounded-full overflow-hidden">
                                <div id="barOffB" class="stat-bar bg-red-500" style="width: 50%"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between text-[9px] font-bold uppercase mb-1">
                            <span id="nameStatA2">Team A</span> <span>DEFENSE</span> <span id="nameStatB2">Team B</span>
                        </div>
                        <div class="flex w-full gap-1">
                            <div class="flex-1 bg-gray-800 rounded-full overflow-hidden flex justify-end">
                                <div id="barDefA" class="stat-bar bg-blue-400" style="width: 50%"></div>
                            </div>
                            <div class="flex-1 bg-gray-800 rounded-full overflow-hidden">
                                <div id="barDefB" class="stat-bar bg-red-400" style="width: 50%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <button onclick="calculatePrediction()" class="w-full bg-blue-600 py-4 rounded-2xl font-black tracking-widest active:scale-95 transition-all shadow-xl text-xs">ANALYSER LE MATCH</button>
            </div>

            <div id="prediction-result" class="hidden text-center bg-white text-black p-6 rounded-[2.5rem] shadow-2xl mb-4">
                <div class="flex justify-around items-center mb-2">
                    <div class="text-6xl font-black tracking-tighter" id="resA">0</div>
                    <div class="text-xl text-gray-200 italic">Score</div>
                    <div class="text-6xl font-black tracking-tighter" id="resB">0</div>
                </div>
                <div id="winner-tag" class="text-[10px] font-black py-2 px-6 bg-blue-600 text-white rounded-full inline-block uppercase italic mb-4"></div>
                <div class="flex gap-2">
                    <button onclick="saveBet()" class="flex-1 bg-amber-500 text-white py-3 rounded-xl font-bold text-[10px] uppercase">Enregistrer</button>
                    <button onclick="shareResult()" class="flex-1 bg-emerald-600 text-white py-3 rounded-xl font-bold text-[10px] uppercase">Partager</button>
                </div>
            </div>
        </div>

        <div id="section-bets" class="hidden space-y-2" id="bets-list"></div>
        <div id="section-schedule" class="hidden space-y-4">
            <div class="nfl-card p-5 rounded-3xl border-l-4 border-blue-500">
                <h4 class="text-sm font-black uppercase mb-2">Super Bowl LX</h4>
                <p class="text-[11px] text-gray-400">üìç Levi's Stadium, CA</p>
                <p class="text-[11px] text-blue-400 font-bold">üìÖ 8 F√©v 2026 - 00:30 Heure FR</p>
            </div>
        </div>
    </div>

    <script>
        const jokes = [
            "Why did the football coach go to the bank? To get his quarter back!",
            "Why was the stadium so cool? It was full of fans!",
            "Why did the football team go to the bakery? They needed a good roll!",
            "Which football player wears the biggest helmet? The one with the biggest head!"
        ];

        const teams = [
            { id: "ne", name: "Patriots", off: 22, def: 24, record: "8-9" },
            { id: "sea", name: "Seahawks", off: 23, def: 19, record: "9-8" },
            { id: "kc", name: "Chiefs", off: 31, def: 28, record: "14-3" },
            { id: "sf", name: "49ers", off: 31, def: 29, record: "12-5" },
            { id: "bal", name: "Ravens", off: 29, def: 30, record: "13-4" },
            { id: "phi", name: "Eagles", off: 27, def: 21, record: "11-6" }
            // ... (Ajouter les autres ici)
        ];

        function init() {
            document.getElementById('joke-text').innerText = jokes[Math.floor(Math.random() * jokes.length)];
            const selectA = document.getElementById('teamA');
            const selectB = document.getElementById('teamB');
            teams.forEach(t => {
                const opt = `<option value="${t.id}">${t.name}</option>`;
                selectA.innerHTML += opt; selectB.innerHTML += opt;
            });
            selectA.value = "ne"; selectB.value = "sea";
            updateUI();
        }

        function updateUI() {
            const tA = teams.find(t => t.id === document.getElementById('teamA').value);
            const tB = teams.find(t => t.id === document.getElementById('teamB').value);
            
            document.getElementById('logoA').src = `https://a.espncdn.com/i/teamlogos/nfl/500/${tA.id}.png`;
            document.getElementById('logoB').src = `https://a.espncdn.com/i/teamlogos/nfl/500/${tB.id}.png`;
            
            // Mise √† jour des barres (max stat est 32)
            document.getElementById('barOffA').style.width = (tA.off / 32 * 100) + "%";
            document.getElementById('barOffB').style.width = (tB.off / 32 * 100) + "%";
            document.getElementById('barDefA').style.width = (tA.def / 32 * 100) + "%";
            document.getElementById('barDefB').style.width = (tB.def / 32 * 100) + "%";
            
            document.getElementById('nameStatA1').innerText = tA.name;
            document.getElementById('nameStatB1').innerText = tB.name;
            document.getElementById('nameStatA2').innerText = tA.name;
            document.getElementById('nameStatB2').innerText = tB.name;
        }

        function calculatePrediction() {
            const tA = teams.find(t => t.id === document.getElementById('teamA').value);
            const tB = teams.find(t => t.id === document.getElementById('teamB').value);
            let sA = Math.round((tA.off * 0.7) + (32 - tB.def) * 0.3 + (Math.random() * 10));
            let sB = Math.round((tB.off * 0.7) + (32 - tA.def) * 0.3 + (Math.random() * 10));
            document.getElementById('resA').innerText = sA;
            document.getElementById('resB').innerText = sB;
            document.getElementById('winner-tag').innerText = sA > sB ? `Favori : ${tA.name}` : `Favori : ${tB.name}`;
            document.getElementById('prediction-result').classList.remove('hidden');
        }

        function showTab(tab) {
            ['predict', 'bets', 'schedule'].forEach(t => {
                document.getElementById('section-' + t).classList.toggle('hidden', t !== tab);
                document.getElementById('tab-' + t).classList.toggle('tab-active', t === tab);
            });
        }

        init();
    </script>
</body>
</html>
