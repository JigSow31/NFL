<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>NFL Predictor Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #020617; color: white; -webkit-tap-highlight-color: transparent; }
        .nfl-card { background: linear-gradient(145deg, #1e293b, #0f172a); border: 1px solid #334155; }
        select { appearance: none; -webkit-appearance: none; }
    </style>
</head>
<body class="font-sans antialiased pb-10">

    <div class="max-w-md mx-auto p-4">
        <header class="flex justify-between items-center py-6">
            <h1 class="text-3xl font-black italic tracking-tighter text-blue-500">NFL<span class="text-white">PREDICT</span></h1>
            <button onclick="window.location.reload()" class="text-[10px] font-bold text-gray-500 border border-gray-800 px-3 py-1 rounded-full uppercase">Update Stats</button>
        </header>

        <section class="mb-8">
            <div class="nfl-card p-6 rounded-[2.5rem] shadow-2xl">
                <div class="flex items-center justify-between mb-8 gap-4">
                    <div class="flex flex-col items-center w-1/2">
                        <img id="logoA" src="https://a.espncdn.com/i/teamlogos/nfl/500/kc.png" class="w-20 h-20 mb-3 drop-shadow-lg">
                        <select id="teamA" onchange="updateUI('A')" class="bg-slate-800 text-white rounded-xl p-3 text-xs w-full text-center border-none font-bold">
                            </select>
                    </div>

                    <div class="text-2xl font-black text-red-600 italic mt-4">VS</div>

                    <div class="flex flex-col items-center w-1/2">
                        <img id="logoB" src="https://a.espncdn.com/i/teamlogos/nfl/500/sf.png" class="w-20 h-20 mb-3 drop-shadow-lg">
                        <select id="teamB" onchange="updateUI('B')" class="bg-slate-800 text-white rounded-xl p-3 text-xs w-full text-center border-none font-bold">
                            </select>
                    </div>
                </div>

                <button onclick="calculatePrediction()" class="w-full bg-blue-600 hover:bg-blue-500 py-5 rounded-2xl font-black tracking-[0.2em] transition-all active:scale-95 shadow-xl shadow-blue-900/40 text-sm">PRÉDIRE LE SCORE</button>
            </div>
        </section>

        <div id="prediction-result" class="hidden mb-10 scale-in-center">
            <div class="bg-white text-black p-8 rounded-[3rem] text-center shadow-[0_20px_50px_rgba(0,0,0,0.5)] relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-1 bg-blue-600"></div>
                <p class="text-[10px] font-black text-blue-600 uppercase tracking-widest mb-4 italic underline">Résultat Analytique</p>
                <div class="flex justify-around items-center mb-4">
                    <div class="text-6xl font-black tracking-tighter" id="resA">0</div>
                    <div class="text-2xl font-light text-gray-300">/</div>
                    <div class="text-6xl font-black tracking-tighter" id="resB">0</div>
                </div>
                <div id="winner-tag" class="text-[11px] font-bold py-2 px-6 bg-blue-100 text-blue-700 rounded-full inline-block uppercase tracking-tighter">Probabilité de victoire : 0%</div>
            </div>
        </section>

        <section class="mt-4">
            <h3 class="text-gray-500 text-[10px] font-black uppercase tracking-[0.2em] ml-2 mb-4">Focus Statistiques 2025</h3>
            <div id="stats-container" class="space-y-2">
                </div>
        </section>
    </div>

    <script>
        const teams = [
            { id: "ari", name: "AZ Cardinals", off: 21, def: 25, logo: "ari" },
            { id: "atl", name: "ATL Falcons", off: 23, def: 18, logo: "atl" },
            { id: "bal", name: "BAL Ravens", off: 29, def: 30, logo: "bal" },
            { id: "buf", name: "BUF Bills", off: 28, def: 24, logo: "buf" },
            { id: "car", name: "CAR Panthers", off: 14, def: 20, logo: "car" },
            { id: "chi", name: "CHI Bears", off: 20, def: 22, logo: "chi" },
            { id: "cin", name: "CIN Bengals", off: 26, def: 19, logo: "cin" },
            { id: "cle", name: "CLE Browns", off: 19, def: 29, logo: "cle" },
            { id: "dal", name: "DAL Cowboys", off: 28, def: 23, logo: "dal" },
            { id: "den", name: "DEN Broncos", off: 20, def: 17, logo: "den" },
            { id: "det", name: "DET Lions", off: 30, def: 21, logo: "det" },
            { id: "gb",  name: "GB Packers", off: 25, def: 20, logo: "gb" },
            { id: "hou", name: "HOU Texans", off: 24, def: 21, logo: "hou" },
            { id: "ind", name: "IND Colts", off: 22, def: 18, logo: "ind" },
            { id: "jax", name: "JAX Jaguars", off: 21, def: 19, logo: "jax" },
            { id: "kc",  name: "KC Chiefs", off: 31, def: 28, logo: "kc" },
            { id: "lv",  name: "LV Raiders", off: 18, def: 24, logo: "lv" },
            { id: "lac", name: "LA Chargers", off: 23, def: 20, logo: "lac" },
            { id: "lar", name: "LA Rams", off: 24, def: 19, logo: "lar" },
            { id: "mia", name: "MIA Dolphins", off: 31, def: 18, logo: "mia" },
            { id: "min", name: "MIN Vikings", off: 22, def: 20, logo: "min" },
            { id: "ne",  name: "NE Patriots", off: 13, def: 25, logo: "ne" },
            { id: "no",  name: "NO Saints", off: 21, def: 22, logo: "no" },
            { id: "nyg", name: "NY Giants", off: 15, def: 20, logo: "nyg" },
            { id: "nyj", name: "NY Jets", off: 18, def: 30, logo: "nyj" },
            { id: "phi", name: "PHI Eagles", off: 27, def: 20, logo: "phi" },
            { id: "pit", name: "PIT Steelers", off: 18, def: 26, logo: "pit" },
            { id: "sf",  name: "SF 49ers", off: 31, def: 29, logo: "sf" },
            { id: "sea", name: "SEA Seahawks", off: 23, def: 18, logo: "sea" },
            { id: "tb",  name: "TB Buccaneers", off: 22, def: 21, logo: "tb" },
            { id: "ten", name: "TEN Titans", off: 17, def: 19, logo: "ten" },
            { id: "was", name: "WAS Commanders", off: 19, def: 14, logo: "was" }
        ];

        // Charger les menus déroulants
        const selectA = document.getElementById('teamA');
        const selectB = document.getElementById('teamB');

        teams.forEach(team => {
            const opt = `<option value="${team.id}">${team.name}</option>`;
            selectA.innerHTML += opt;
            selectB.innerHTML += opt;
        });

        // Par défaut
        selectA.value = "kc";
        selectB.value = "sf";

        function updateUI(side) {
            const teamId = document.getElementById('team' + side).value;
            document.getElementById('logo' + side).src = `https://a.espncdn.com/i/teamlogos/nfl/500/${teamId}.png`;
        }

        function calculatePrediction() {
            const tA = teams.find(t => t.id === selectA.value);
            const tB = teams.find(t => t.id === selectB.value);

            // Algorithme : (Attaque A - Défense B) + Aléatoire de match
            let scoreA = Math.round((tA.off * 0.8) + (32 - tB.def) * 0.2 + (Math.random() * 14));
            let scoreB = Math.round((tB.off * 0.8) + (32 - tA.def) * 0.2 + (Math.random() * 14));

            // Sécurité scores réalistes NFL
            if(scoreA < 0) scoreA = 0; if(scoreB < 0) scoreB = 0;

            document.getElementById('resA').innerText = scoreA;
            document.getElementById('resB').innerText = scoreB;
            
            const prob = 50 + Math.round((tA.off + tA.def - (tB.off + tB.def)) / 2) + Math.round(Math.random() * 5);
            document.getElementById('winner-tag').innerText = `Confiance Analyse : ${Math.min(99, Math.max(1, prob))}%`;
            
            document.getElementById('prediction-result').classList.remove('hidden');
            if(navigator.vibrate) navigator.vibrate(100);
        }
    </script>
</body>
</html>
